{% extends "templates/base_page.html" %}

{% block main %}
<h1>{{ _("Previous Releases") }}</h1>
<ul>
    {% for page in pages %}
    <li><a href="{{ pageurl(page) }}">{{ page.title }}</a> - {{ page.release_date }}</li>
    {% else %}
    <p>{{ _("There are currently no releases") }}</p>
    {% endfor %}
</ul>

<!--{% block django_pagination %}-->
<!--{# Plug this in the DS pagination component #}-->
<!--{% if pages.paginator.num_pages > 1 %}-->
<!--<nav aria-label="Pagination">-->
<!--    <ul class="pagination">-->
<!--        {% if pages.has_previous() %}-->
<!--        <li><a class="previous" href="?page={{ pages.previous_page_number() }}">Previous <span-->
<!--            class="sr-only">page</span></a></li>-->
<!--        {% endif %}-->

<!--        <li aria-current="page" class="current">-->
<!--            {{ pages.number }}/{{pages.paginator.num_pages }}-->
<!--        </li>-->

<!--        {% if pages.has_next() %}-->
<!--        <li><a class="next" href="?page={{ pages.next_page_number() }}">Next <span class="sr-only">page</span></a></li>-->
<!--        {% endif %}-->
<!--    </ul>-->
<!--</nav>-->
<!--{% endif %}-->
<!--{% endblock %}  %}-->


{% block ONS_pagination %}
{% if pages.paginator.num_pages > 1 %}
<nav class="ons-pagination" aria-label="Pagination (Page current of last page)">
    <div class="ons-pagination__position">Page {{ pages.number }} of {{pages.paginator.num_pages }}</div>
    {# Navigation to previous pages #}
    {% if pages.has_previous() %}
    <ul class="ons-pagination__items">
        {# the previous section #}
        <li class="ons-pagination__item ons-pagination__item--previous">
            <a href="?page={{ pages.previous_page_number() }}"
               class="ons-pagination__link ons-pagination__link--no-underline" rel="prev"
               aria-label="Go to the previous page ">
                <svg class="ons-icon ons-icon--m ons-u-mr-2xs" viewBox="0 0 17 13"
                     xmlns="http://www.w3.org/2000/svg" focusable="false" fill="currentColor" role="img"
                     title="ons-icon-arrow-previous">
                    <path
                        d="M6.4.2.3 6.4c-.2.2-.2.4 0 .6l6.2 5.8c.2.2.4.1.6 0l.8-.9c.2-.2.1-.4 0-.6l-4-3.7h12.5c.2 0 .4-.2.4-.4V6c0-.2-.2-.4-.4-.4H3.8l4-4c.2-.1.2-.4.1-.5L7 .2c-.1-.1-.4-.1-.6 0z"/>
                </svg>
                <span class="ons-pagination__link-text">Previous</span>
            </a>
        </li>


        {# the first page section #}
        <li class="ons-pagination__item">
            <a href="?page=1" class="ons-pagination__link"
               aria-label="Go to the first page">1</a>
        </li>

        {% if  pages.previous_page_number() > 1 %}
        {# previous pages section #}
        <li class="ons-pagination__item ons-pagination__item--gap">&hellip;</li>
        <li class="ons-pagination__item">
            <a href="?page={{ pages.previous_page_number() }}" class="ons-pagination__link"
               aria-label="Go to previous page" rel="prev">{{ pages.previous_page_number() }}</a>
        </li>
        {% endif %}
        {% endif %}


        <li class="ons-pagination__item ons-pagination__item--current">
            <a href="?page=1" class="ons-pagination__link" aria-current="true"
               aria-label="Current page">{{ pages.number }}</a>
        </li>


        {% if pages.has_next() %}

        <li class="ons-pagination__item">
            <a href="?page={{ pages.next_page_number()}}" class="ons-pagination__link" aria-label="Go to next"
               rel="next">{{ pages.next_page_number() }}</a>
        </li>

        {% if pages.next_page_number() < pages.paginator.num_pages %}
        <li class="ons-pagination__item ons-pagination__item--gap">&hellip;</li>
        <li class="ons-pagination__item">
            <a href="?page={{ pages.paginator.num_pages }}" class="ons-pagination__link"
               aria-label="Go to the last page">{{ pages.paginator.num_pages }}</a>
        </li>
        {% endif %}

        <li class="ons-pagination__item ons-pagination__item--next">
            <a href="?page={{ pages.next_page_number()}}"
               class="ons-pagination__link ons-pagination__link--no-underline" rel="next"
               aria-label="Go to the next page">
                <span class="ons-pagination__link-text">Next</span>
                <svg class="ons-icon ons-icon--m ons-u-ml-2xs"
                     viewBox="0 0 17 13" xmlns="http://www.w3.org/2000/svg" focusable="false" fill="currentColor"
                     role="img"
                     title="ons-icon-arrow-next">
                    <path
                        d="m10 .2-.9.9c-.1.1-.1.4 0 .5l4 4H.6c-.2 0-.4.2-.4.4v1.2c0 .2.2.4.4.4h12.5l-3.9 3.7c-.2.2-.2.4 0 .6l.8.9c.2.2.4.2.6 0L16.8 7c.2-.2.2-.4 0-.6L10.7.3c-.3-.2-.5-.2-.7-.1z"/>
                </svg>
            </a>
        </li>
        {% endif %}
    </ul>
</nav>


{% endif %}
{% endblock %}
{% endblock %}
