{% extends "templates/pages/release_calendar/release_calendar_page.html" %}
{% from "components/panel/_macro.njk" import onsPanel %}

{% block header_area %}
    {%- set hero_topic = _("Release") -%}
    {%- set breadcrumbs_label = _("Breadcrumbs") -%}

    {% if page.release_date or page.release_text %}
        {%- set release_date_label = _("Provisional release date:") -%}
        {# fmt:off #}
        {%- set release_date_html =
            {
                "term": release_date_label,
                "descriptions": [
                    {
                        "description": page.release_date|ons_date("DATETIME_FORMAT") or page.release_date_text
                    }
                ]
            }
        -%}
        {# fmt:on #}
    {% else %}
        {%- set release_date_html = "" -%}
    {% endif %}

    {# fmt:off #}
    {{
        onsHero({
            "topic": hero_topic,
            "title": page.title,
            "variants": 'grey',
            "officialStatisticsBadge": page.is_accredited,
            "wide": true,
            "detailsColumns": 12,
            "censusLogo": page.is_census,
            "descriptionList": {
                "descriptionListLabel": "",
                "termCol": "6",
                "descriptionCol": "6",
                "itemsList": [
                    release_date_html
                ]
            },
            "breadcrumbs": {
                "ariaLabel": breadcrumbs_label,
                "itemsList": breadcrumbs(page),
            }
        })
    }}
    {# fmt:on #}

    {% block release_note %}
        <div class="ons-container ons-u-mt-m">
            {% call onsPanel() %}
                <p>{{ _("This release is not yet published") }}</p>
            {% endcall %}
        </div>
    {% endblock %}
{% endblock %}

{% block release_content %}{% endblock %} {# we want to show this only for published content #}
{% block release_content_footer %}{% endblock %}  {# we want to show this only for published content #}
